<html>
    <head>
        <title>Data APIs, design, and visual storytelling Interactions</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    </head>
    <body>
Over the past five <strong>years</strong>, international <strong>agencies</strong> such as the <strong>World Bank</strong>, <strong>OECD</strong>, and <strong>UNESCO</strong> have created <strong>portals</strong> to make their <strong>data</strong> available for everyone to explore. Many <strong>non-profits</strong> are also visualizing <strong>masses</strong> of <strong>data</strong> in the <strong>hope</strong> that it will give <strong>policymakers</strong>, <strong>funders</strong>, and the general public a better <strong>understanding</strong> of the issues they are trying to solve. <strong>Data</strong> <strong>visualization</strong> plays a key <strong>role</strong> in <strong>telling</strong> the <strong>stories</strong> behind the data. For most <strong>audiences</strong>, <strong>data sets</strong> are hard to use and interpret — the average <strong>user</strong> will need a technical <strong>guide</strong> just to navigate through the complicated <strong>hierarchies</strong> of <strong>categories</strong> let alone interpret the information. But data visualizations trigger interest and insight because they are immediate, clear, and tangible. At <strong>FFunction</strong>, we visualize a <strong>lot</strong> of data. Most of the <strong>time</strong> our <strong>clients</strong> send us <strong>Excel</strong> <strong>spreadsheets</strong> or <strong>CSV</strong> <strong>files</strong>, so we were happily surprised when we started to work with <strong>UNESCO Institute</strong> for <strong>Statistics</strong> on two fascinating education-related <strong>projects</strong> — Out-of-School <strong>Children</strong> and <strong>Left Behind —</strong> and realized that they had been working on a <strong>data</strong> API. As we began to work through the <strong><strong><strong><strong>data</strong></strong></strong></strong> ourselves, we uncovered several <strong>reasons</strong> why using an <strong>API</strong> helps immeasurably with <strong><strong><strong><strong>data</strong></strong></strong></strong> visualization.more
Why <strong>API</strong>s are the best <strong>way</strong> to share <strong><strong><strong><strong>data</strong></strong></strong></strong>
If you look at the <strong><strong><strong><strong>data</strong></strong></strong></strong> available in most <strong><strong><strong><strong>data</strong></strong></strong></strong> portals, you’re likely to find <strong>XML</strong>, <strong>CSV</strong> <strong>files</strong>, <strong>Excel</strong> <strong>spreadsheets</strong> (for those who haven’t heard of <strong>Open Document</strong> <strong>format</strong>), or <strong>PDF</strong> <strong>documents</strong> (god forbid!). Although many organizations do have an API, more should. If you’ve worked a little <strong>bit</strong> with <strong><strong><strong><strong>data</strong></strong></strong></strong>, whether internal corporate <strong><strong><strong><strong>data</strong></strong></strong></strong> or open <strong><strong><strong><strong>data</strong></strong></strong></strong>, you’ll probably know from <strong>experience</strong> that <strong><strong><strong><strong>data</strong></strong></strong></strong> very rarely comes in an ideal format. <strong>Very</strong> often, you’ll <strong><strong>find</strong></strong> your <strong>data contains</strong> a <strong>multitude</strong> of <strong>formats</strong> (<strong>dates</strong> are a common <strong>offender</strong> there, where you’ll <strong><strong>find</strong></strong> YYYY-MM-DD along with DD/MM/YYY and, for <strong>good measure</strong>, MM/DD/YYYY). As a <strong>result</strong>, you almost always need to normalize your <strong>data</strong> to ensure that all the <strong>fields</strong> are in the same format. Normalization is not the only chore, though. If you want to keep your <strong><strong>data</strong></strong> up to <strong>date</strong>, <strong>you’ll</strong> also need to make sure that your new <strong><strong>data</strong></strong> format hasn’t changed since the last <strong>time</strong> (<strong>fields</strong> shuffled, added, removed, etc. <strong>)</strong>, which means you’ll <strong>need</strong> to create a <strong>program</strong> to validate your new data. And this <strong>necessitates</strong> having an automated <strong>way</strong> to retrieve the data. Once you finally have valid, normalized <strong><strong>data</strong></strong>, you can eventually process the <strong><strong>data</strong></strong> into a format that is suitable for a visualization. <strong>Pipeline</strong> to prepare <strong>data</strong> for <strong>visualization</strong>
However, when you are working with an <strong>API</strong>, you can skip the <strong>normalization</strong> and <strong>validation</strong> <strong>phases</strong> and go directly to processing. Here is why:

<strong>API</strong> <strong>data</strong> is <strong>URL</strong> accessible: instead of preparing and sending a <strong>data</strong> file, you just send the <strong>URL</strong>. Getting the most up-to-date data is a breeze. <strong>API</strong> <strong>data</strong> is already normalized: because it is <strong>machine</strong> generated, it follows a format that is usually documented. For <strong>instance</strong>, here is the <strong>documentation</strong> for the U.S. Consumer Complaints Database. <strong>API</strong> <strong>data</strong> is already validated: because it is extracted from an underlying, structured, <strong>information system</strong>, you eliminate the <strong>risk</strong> of inconsistent information. The <strong>content</strong> is already structured (as opposed to a tabular <strong>format</strong>) because <strong>APIs</strong> <strong>output</strong> either <strong>XML</strong> or JSON. Why using an <strong>API</strong> improves <strong>visualizations</strong>
The two <strong>projects</strong> we recently worked on with UNESCO were complex. <strong>Let’s</strong> take Out-of-School <strong>Children</strong> as a <strong>case study</strong>: our brief was to create an interactive <strong>visualization</strong> that allows the <strong>user</strong> to explore <strong>UNESCO</strong> <strong>data</strong> on <strong>children</strong> who are out of <strong>school</strong> in different <strong>regions</strong> around the world. The main <strong>idea</strong> of the <strong>visualization</strong> was to show the <strong>proportion</strong> of <strong><strong>children</strong></strong> in <strong><strong>school</strong></strong> (compared to the <strong><strong>children</strong></strong> out of <strong><strong>school</strong></strong>) among different <strong>sub-groups</strong> of a country’s population (e.g. <strong>girls</strong> versus <strong>boys</strong>, <strong>children</strong> living in rural <strong>areas</strong> versus <strong>urban</strong> <strong>zones</strong>, <strong>etc</strong>.). You can check out the end result here. Through <strong>experience</strong>, we have found that one of the key <strong>factors</strong> in creating a successful <strong>visualization</strong> is how quickly you can “get” the data. And by “get,” I mean both getting <strong>access</strong> to the <strong>data</strong> files and being able to understand the <strong>data</strong>’s <strong>structure</strong>, <strong>dimensions</strong>, and meaning. Having an API to query made it incredibly easy for us to quickly dive into the material. <strong>UNESCO’s</strong> online <strong><strong>data</strong></strong> <strong>center</strong>, <strong>UIS.Stats</strong>, allows you to browse the <strong><strong>data</strong></strong> to get an <strong>overview</strong> of the numbers. Most importantly for our <strong>purposes</strong>, the <strong>data</strong> are also available through an API. With a <strong>JSON “prettyfier” plug-in</strong>, the <strong>data</strong> look like this:
[<strong>caption</strong> id="<strong>attachment_74920</strong>" <strong>align=</strong>"<strong>aligncenter</strong>" <strong>width=</strong>"570"] <strong>Gender</strong> <strong>parity index</strong>, UNESCO UIS. [/caption]
This might not look very clear if you're not familiar with <strong>JSON</strong>, but compared to the <strong>raw</strong> <strong>data</strong>, the <strong>structure</strong> is relatively clear, so you can quickly create <strong>tools</strong> to <strong>assess</strong> and visualize the <strong>data</strong>. For the <strong>UNESCO Out</strong> of <strong>School</strong> <strong>project</strong>, one of the first <strong>things</strong> to assess was the <strong><strong>number</strong></strong> of <strong>countries</strong> with complete <strong>(</strong>100<strong>%</strong>) <strong>coverage</strong> for the key <strong>indicators</strong> versus the <strong><strong>number</strong></strong> with missing data. Having <strong>instant access</strong> to the <strong>data</strong> and being able to feed it live to the <strong>tools</strong> really made a big <strong>difference</strong> in our <strong>ability</strong> to explore the material and quickly start prototyping. <strong>Data <strong>API</strong>s</strong> allow us to focus on <strong>storytelling</strong>
By live-querying the <strong>API</strong>, our interactive <strong>visualization</strong> was able to immediately incorporate <strong>changes</strong> to the data as we went. This <strong>meant</strong> we had the <strong>freedom</strong> to create unique, specific <strong>design</strong> <strong>elements</strong> to differentiate the <strong>data</strong> and heighten the <strong>impact</strong> of the visualization. For <strong>instance</strong>, in <strong>Out</strong> of <strong>School Children</strong>, you can see how many <strong><strong><strong>children</strong></strong></strong> living in rural <strong>locations</strong> go to <strong>school versus</strong> <strong><strong><strong>children</strong></strong></strong> living in <strong>urban</strong> <strong>areas</strong>, how boys’ <strong>access</strong> to <strong>education</strong> compares to <strong>girls’</strong>, or if the richest and poorest of <strong><strong><strong>children</strong></strong></strong> have equal <strong>chances</strong> for <strong>education</strong>. In the <strong>example</strong> above, we’re <strong>looking</strong> at Nigeria’s rural <strong>versus urban</strong> <strong>children</strong>, divided into out-of-school and in-school groups. The <strong>approximate</strong> <strong>numbers</strong> of <strong>children</strong> in each <strong>group</strong> are displayed at the top <strong>(</strong>19.5 million rural <strong>versus</strong> 8.3 million urban), and the <strong>corresponding</strong> <strong>rates</strong> appear in the lower <strong>section</strong> of the product <strong>(</strong>e.g. 37<strong><strong>%</strong></strong> of <strong>children</strong> living in rural <strong>areas</strong> in <strong>Nigeria</strong> are out of <strong>school</strong> compared to 13<strong><strong>%</strong></strong> of <strong>urban</strong> <strong>children</strong>). Now, <strong>what’s</strong> interesting is that each little animated <strong>character</strong> that you see on the <strong>page</strong> represents the same <strong>number</strong> of individuals. In the <strong>example</strong> above, there are around two rural <strong>children</strong> for each <strong>urban child</strong>, so you have <strong>twice</strong> as many little <strong>characters</strong> on the <strong>left side</strong> (rural<strong>)</strong> as the <strong>right side</strong> (urban<strong>)</strong>. If you look closely, <strong>you’ll</strong> also <strong>notice</strong> that the <strong>characters</strong> are dressed differently depending on their <strong>group</strong> and <strong>gender</strong> (pictured below). Indeed, we’ve created many different <strong>characters</strong> to give a <strong>feeling</strong> of <strong>variety</strong> in the <strong>visualization</strong> — and also to <strong>stress</strong> that these <strong>numbers</strong> represent actual people. The <strong>client perspective</strong>
By now, you probably have a good <strong>understanding</strong> of the <strong>benefits</strong> of an <strong>API</strong> <strong>accruing</strong> to the developer. But the <strong>client</strong> also benefits considerably in <strong>terms</strong> of <strong>investment</strong>, reputation, and outreach. <strong>UNESCO’s</strong> education <strong>database</strong> is updated three <strong>times</strong> each year. “With the <strong>API</strong>, our <strong><strong>data</strong> visualizations</strong> are being automatically updated with the latest available <strong>data</strong>,” <strong>explains</strong> <strong>Amy Otchet</strong>, <strong>head</strong> of <strong>communications</strong> at the <strong>UNESCO Institute</strong> for Statistics. <strong>“This</strong> means that our <strong>data visualizations</strong> are basically <strong>maintenance</strong> free, and we avoid the limitations of a shelf-life. This <strong>results</strong> in clear <strong>gains</strong> in <strong>terms</strong> of human and financial <strong>resources.”</strong>
“The <strong>API</strong> also helps to protect our <strong>reputation</strong> and <strong>credibility</strong>,” Otchet says. “As the <strong>official source</strong> of international <strong>education</strong> <strong>data</strong>, we have to be certain that our <strong>audiences</strong> get the latest <strong>data</strong> available. This also helps with outreach. <strong>Partners</strong> can directly embed our <strong>products</strong> as permanent <strong>resources</strong> without any <strong>concerns</strong> about <strong>maintenance</strong> in the long <strong>term.”</strong>
<strong>Tips</strong> to successfully create an <strong><strong>API</strong></strong> for <strong><strong>data</strong></strong> <strong>publication</strong>
If you decide to make your <strong><strong>data</strong></strong> accessible through an <strong><strong>API</strong></strong>, here are some key <strong>points</strong> to help you succeed:

<strong>Technology</strong> (platform) does not really matter too much. This is the <strong>beauty</strong> of the <strong>Web</strong>: all that <strong>matters</strong> is that you output your <strong>data</strong> in an open <strong>format</strong> that is developer friendly (i.e. <strong>JSON</strong>, <strong>XML</strong> or CSV). <strong>JSON</strong> is more readable than <strong>XML</strong>, which is easier to parse than CSV. This might sound weird, as <strong><strong>XML</strong></strong> is actually more a <strong>document format</strong> than a <strong>data format</strong>, but in <strong>practice</strong>, <strong><strong>XML</strong></strong> is very verbose and does a poor <strong>job</strong> at representing the <strong>structure</strong>, especially when you have numeric data types. <strong>JSON</strong> is the better <strong>choice</strong>, provided you have plug-ins to doll it up. <strong>APIs</strong> can have different <strong>formats</strong> (if you feel the <strong>need</strong>), but JSONP is probably the most important. The main reason is that it allows for cross-domain query. For <strong>instance</strong>, our <strong>Out</strong> of <strong>School</strong> interactive is pulling live <strong>data</strong> from <strong>UNESCO’s</strong> <strong><strong>API</strong></strong>, which is only possible because the <strong><strong>API</strong></strong> offers a <strong>JSONP</strong> <strong>format</strong> (P=Procedure call). Be mindful of performance. In the <strong>case</strong> of the <strong>Out</strong> of <strong>School</strong> <strong>visualization</strong>, the <strong>UNESCO</strong> <strong>data</strong> <strong><strong>API</strong></strong> is queried live by the <strong>browser</strong>, which means that the <strong><strong>API</strong></strong> needs to support a potentially high <strong>number</strong> of queries. A <strong>side effect</strong> of that is that the <strong>visualization’s</strong> load <strong>time</strong> is directly dependent on the <strong>speed</strong> of the API. If you want more <strong>information</strong> on how to turn an ordinary <strong><strong>API</strong></strong> into a great <strong><strong>API</strong></strong>, this <strong>slideshare</strong> from <strong>OSCON</strong> 2012 <strong>outlines</strong> five "keys" that might also prove useful.

    
</body>
</html>